{% extends 'base.html' %}

{% block content %}

{% if user.is_authenticated %}
    <a href="{% url 'forum:post_create' %}">Create post</a>
{% endif %}

<div class="posts_list">
    {% if posts %}
        {% for post in posts %}
            <p><a href="{% url 'forum:post_page' post.pk %}">{{ post.title }}</a>
        {% endfor %}
    {% else %}
        <p>There are no posts yet.</p>
    {% endif %}
</div>

{% if page_obj.has_other_pages %}
    {% for page_number in paginator.page_range %}
        {% if page_number == page_obj.number %}
            {{ page_number }}
        {% elif page_number >= page_obj.number|add:-3 and page_number <= page_obj.number|add:5 %}
            <a href="?page={{ page_number }}">{{ page_number }}</a>
        {% endif %}
    {% endfor %}
{% endif %}

{% endblock %}